# Exemple pour faire tourner Odoo avec Supabase comme base de données
# 1. Copier ce fichier en docker-compose.prod.yml
# 2. Créer un fichier .env avec HOST, USER, PASSWORD (Supabase)
# 3. Lancer : docker compose -f docker-compose.prod.yml up -d

services:
  odoo:
    image: odoo:18
    ports:
      - "8069:8069"
    env_file:
      - .env
    environment:
      HOST: ${DB_HOST}      # ex. db.xxxx.supabase.co
      USER: ${DB_USER}      # ex. postgres
      PASSWORD: ${DB_PASSWORD}
    volumes:
      - odoo-web-data:/var/lib/odoo
      - ./addons/custom:/mnt/extra-addons
      - ./config:/etc/odoo

volumes:
  odoo-web-data:
